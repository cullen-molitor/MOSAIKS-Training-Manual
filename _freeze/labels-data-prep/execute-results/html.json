{
  "hash": "ad4edc393b14bcb20473b00a93dc9351",
  "result": {
    "markdown": "# Preparing labels\n\n\n\n:::: status\n::: callout-warning \nThis chapter is in early draft form and may be incomplete.\n:::\n::::\n\n\n- Considerations for data cleaning\n- What should my data look like?\n\n## Joining data\n\nBefore model training, label data must be joined to imagery features. The joined data should be tabular with each row containing:\n\n1. **Label** - the observed value  \n1. **Geographic location** - such as a MOSAIKS grid cell or larger geographic area  \n1. **Time (optional)** - useful for time series data (year, mont, or day)  \n1. ***K* feature columns** - column for every random satellite feature (typically *k* = 4,000)  \n\nFor example, a dataset with crop yeild data could look like:\n\n| Observation | District  | Year | Crop Yield | \n|-------------|-----------|------|------------|\n| 1           | Chibombo  | 2019 | 1.520      | \n| 2           | Kabwe     | 2019 | 1.878      | \n| ...         | ...       | ...  | ...        | \n| *N*         | Kitwe     | 2019 | 2.383      | \n\nAnd a dataset with district level aggregate features could look like:\n\n| Observation | District  | Year | Feature 1 | Feature 2 | ... | Feature *K* |\n|-------------|-----------|------|-----------|-----------|-----|-------------|\n| 1           | Chibombo  | 2019 | 4.2       | 11.6      | ... | 12.7        |\n| 2           | Kabwe     | 2019 | 2.9       | 5.3       | ... | 11.2        |\n| ...         | ...       | ...  | ...       | ...       | ... | ...         |\n| *N*         | Kitwe     | 2019 | 10.6      | 1.1       | ... | 2.2         |\n\nFinally, the joined dataset would look like:\n\n| Observation | District  | Year | Crop Yield | Feature 1 | Feature 2 | ... | Feature *K* |\n|-------------|-----------|------|------------|-----------|-----------|-----|-------------|\n| 1           | Chibombo  | 2019 | 1.520      | 4.2       | 11.6      | ... | 12.7        |\n| 2           | Kabwe     | 2019 | 1.878      | 2.9       | 5.3       | ... | 11.2        |\n| ...         | ...       | ...  | ...        | ...       | ...       | ... | ...         |\n| *N*         | Kitwe     | 2019 | 2.383      | 10.6      | 1.1       | ... | 2.2         |\n\nIn the above example, our geographic location is the district and our label is the crop yield (mt/ha). We then have *K* columns containing the features and *N* observations. \n\nIn this example, our features started at 1 kmÂ² resolution and were aggregated to the district level to match the crop yield data. To join this data, we first found all of the feature locations that fall within the district boundaries using a spatial join. Then we averaged the features within each district. This allowed us to have a single feature vector for each district. The resulting tabular data is ready for modeling.\n\n\n**Note:** Add example code for joining data",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}